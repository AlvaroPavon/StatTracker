graph TD
    A["<b>StatTracker - Mi Perfil</b>"] --> B[Barra de Navegación]
    B --> B1["Logo | Bienvenido, [Nombre] | [Dashboard] [Cerrar Sesión]"]
    
    A --> C[Panel de Perfil]
    C --> D[Sección: Datos Personales]
    C --> E[Sección: Cambiar Contraseña]
    
    D --> D1["Foto de Perfil: [imagen] [Cambiar]"]
    D --> D2["Nombre: ___________"]
    D --> D3["Apellidos: ___________"]
    D --> D4["Email: ___________"]
    D --> D5["[Actualizar Perfil]"]
    
    E --> E1["Contraseña Actual: ___________"]
    E --> E2["Nueva Contraseña: ___________"]
    E --> E3["Confirmar Nueva: ___________"]
    E --> E4["[Cambiar Contraseña]"]
    
    D5 --> F{Validación Perfil}
    F -->|OK| G["Perfil actualizado ✓"]
    F -->|Email Duplicado| H["Error: Email en uso"]
    F -->|Datos Inválidos| I["Error: Verifica los datos"]
    G --> D
    H --> D
    I --> D
    
    E4 --> J{Validación Password}
    J -->|OK| K["Contraseña cambiada ✓"]
    J -->|Password Actual Incorrecto| L["Error: Contraseña actual incorrecta"]
    J -->|No Coinciden| M["Error: Las contraseñas no coinciden"]
    J -->|Muy Corta| N["Error: Mínimo 8 caracteres"]
    K --> E
    L --> E
    M --> E
    N --> E
    
    B1 --> O[Dashboard]
    B1 --> P[Cerrar Sesión]
    
    style A fill:#4a90e2,color:#fff
    style D5 fill:#007bff,color:#fff
    style E4 fill:#007bff,color:#fff
    style G fill:#28a745,color:#fff
    style K fill:#28a745,color:#fff
    style H fill:#dc3545,color:#fff
    style I fill:#dc3545,color:#fff
    style L fill:#dc3545,color:#fff
    style M fill:#dc3545,color:#fff
    style N fill:#dc3545,color:#fff